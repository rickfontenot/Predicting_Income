"0","training.set3<-scaled.training %>% select(Life.expectancy,filtered.Income.composition.of.resources,new.Adult.Mortality)"
"0","test.set3<-scaled.test %>% select(Life.expectancy,filtered.Income.composition.of.resources,new.Adult.Mortality)"
"0",""
"0","accs3 = data.frame(RMSE = numeric(50), AIC = numeric(50), k = numeric(50))"
"0",""
"0","for(i in 1:50)"
"0","{"
"0","  fit = knnreg(training.set3$Life.expectancy ~ ., data = training.set3, k=i)"
"0","  parameters=length(attr(fit[3]$terms,""predvars""))-1"
"0","    prediction<-predict(fit, test.set3)"
"0","  accs3$RMSE[i] = RMSE(test.set3$Life.expectancy, prediction)"
"0","  accs3$AIC[i] = calcAIC(test.set3$Life.expectancy,prediction,parameters)"
"0","  accs3$k[i] = i"
"0","}"
"0",""
"0","accs2 %>% ggplot(aes(x = k, y = AIC)) + geom_line()"
